#!/bin/bash

# Path to store the state
STATE_FILE=~/.brightness_state

# Check if the state file exists and read it, or set to 1 if missing/empty
if [ ! -f "$STATE_FILE" ] || [ ! -s "$STATE_FILE" ]; then
    state=1  # Default to brightup if the state file is missing or empty
else
    state=$(cat "$STATE_FILE")
fi

if [ "$state" -eq 0 ]; then
    # Set to brightup
    xrandr --output DVI-I-1 --brightness 1
    redshift -O 6500K
    echo 1 > "$STATE_FILE"  # Save the state
else
    # Set to brightdown
    xrandr --output DVI-I-1 --brightness 0.5
    redshift -O 3600K
    echo 0 > "$STATE_FILE"  # Save the state
fi
